fn main() : i32 {
  var count: u64 = 3;
  var arr: []*i32 = alloc_array(@*i32, count);
  
  arr[0] = nil;
  arr[1] = alloc(@i32);
  *arr[1] = 10;
  arr[2] = nil;
  
  var nil_count: i32 = 0;
  var i: u64 = 0;
  for i = 0; i < count; i += 1 as u64 {
    if arr[i] == nil {
      nil_count += 1;
    }
  }
  
  free(arr[1]);
  free_array(arr);
  return nil_count;
}
