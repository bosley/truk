struct Point {
  x: i32,
  y: i32
}

fn main() : i32 {
  var count: u64 = 3;
  var arr: []*Point = alloc_array(@*Point, count);
  
  arr[0] = alloc(@Point);
  (*arr[0]).x = 10;
  (*arr[0]).y = 5;
  
  var result: i32 = (*arr[0]).x;
  
  free(arr[0]);
  free_array(arr);
  return result;
}
