cimport <stdio.h>;

extern fn printf(fmt: *i8, ...args): i32;

fn loop_sum_i64(count: i32, ...nums) : i32 {
  var i: i32 = 0;
  var total: i64 = 0;
  while i < count {
    var val: i64 = __TRUK_VA_ARG_I64();
    printf("Value[%d] = %lld\n", i, val);
    total = total + val;
    i = i + 1;
  }
  printf("Total sum: %lld\n", total);
  return total as i32;
}

fn main() : i32 {
  return loop_sum_i64(4, 10, 10, 10, 10);
}
