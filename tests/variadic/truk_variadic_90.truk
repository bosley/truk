cimport <stdio.h>;

extern fn printf(fmt: *i8, ...args): i32;

fn weighted_sum(w1: i32, w2: i32, ...values) : i32 {
  var a: i64 = __TRUK_VA_ARG_I64();
  var b: i64 = __TRUK_VA_ARG_I64();
  printf("Weights: w1=%d w2=%d\n", w1, w2);
  printf("Values: a=%lld b=%lld\n", a, b);
  
  var result: i64 = (a * w1 as i64) + (b * w2 as i64);
  printf("Weighted sum: %lld\n", result);
  return result as i32;
}

fn main() : i32 {
  return weighted_sum(3, 2, 20, 15);
}
