cimport <stdio.h>;

extern fn printf(fmt: *i8, ...args): i32;

fn selective_sum(selector: i32, ...nums) : i32 {
  var a: i64 = __TRUK_VA_ARG_I64();
  var b: i64 = __TRUK_VA_ARG_I64();
  var c: i64 = __TRUK_VA_ARG_I64();
  printf("selector=%d a=%lld b=%lld c=%lld\n", selector, a, b, c);
  
  if selector == 1 {
    printf("Summing a+b\n");
    return (a + b) as i32;
  } else {
    if selector == 2 {
      printf("Summing b+c\n");
      return (b + c) as i32;
    } else {
      printf("Summing a+c\n");
      return (a + c) as i32;
    }
  }
}

fn main() : i32 {
  return selective_sum(3, 25, 10, 50);
}
