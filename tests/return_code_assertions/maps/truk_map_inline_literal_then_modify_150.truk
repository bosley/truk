struct Item {
  val: i32
}

fn main() : i32 {
  var m: map[*u8, Item] = make(@map[*u8, Item]);
  
  m["test"] = Item{val: 50};
  
  var ptr: *Item = m["test"];
  if ptr != nil {
    (*ptr).val = 150;
  }
  
  ptr = m["test"];
  if ptr != nil {
    var result: i32 = (*ptr).val;
    delete(m);
    return result;
  }
  
  delete(m);
  return 0;
}
