struct Point {
  x: i32,
  y: i32
}

fn main() : i32 {
  var count: u64 = 5;
  var arr: []*Point = make(@*Point, count);
  
  arr[0] = make(@Point);
  arr[1] = nil;
  arr[2] = make(@Point);
  arr[3] = nil;
  arr[4] = make(@Point);
  
  var non_nil_count: i32 = 0;
  var i: u64 = 0;
  for i = 0; i < count; i += 1 as u64 {
    if arr[i] != nil {
      non_nil_count += 1;
    }
  }
  
  delete(arr[0]);
  delete(arr[2]);
  delete(arr[4]);
  delete(arr);
  return non_nil_count;
}
